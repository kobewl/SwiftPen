# 翻译 UI 使用指南

## 🌍 新的翻译体验

SwiftPen V2.1+ 提供了全新的翻译对话框界面，让你可以在替换前预览、编辑和确认翻译结果。

## ✨ 功能特点

### 1. 对话框预览

翻译完成后，不会立即替换原文，而是弹出一个对话框：

```
┌─────────────────────────────────────────┐
│  🌍 翻译结果                             │
├─────────────────────────────────────────┤
│  [英语] → [简体中文]                     │
├─────────────────────────────────────────┤
│  原文:                                   │
│  ┌───────────────────────────────────┐  │
│  │ Hello World                       │  │
│  │ This is a test                    │  │
│  └───────────────────────────────────┘  │
│                                          │
│  译文（可编辑）:                         │
│  ┌───────────────────────────────────┐  │
│  │ 你好世界                           │  │
│  │ 这是一个测试                       │  │
│  └───────────────────────────────────┘  │
│                                          │
│  原文: 26 字符 | 译文: 14 字符          │
├─────────────────────────────────────────┤
│       [取消] [复制译文] [替换原文]      │
└─────────────────────────────────────────┘
```

### 2. 三个操作选项

#### 🚫 取消
- 关闭对话框
- 不做任何修改
- 原文保持不变

#### 📋 复制译文
- 将译文复制到剪贴板
- 不修改编辑器内容
- 可以粘贴到其他地方

#### ✅ 替换原文
- 用译文替换选中的原文
- 支持编辑后的译文
- 显示成功提示

### 3. 译文可编辑

在对话框中，译文是可以编辑的：

```markdown
原译文: 你好世界
↓ 手动修改
改进后: 你好，世界！
↓ 点击"替换原文"
最终替换为: 你好，世界！
```

## 🎯 使用场景

### 场景 1：查看翻译，不替换

```
1. 选中英文文本
2. Ctrl+Shift+T 翻译
3. 查看译文
4. 点击 "取消" 或关闭对话框
→ 原文保持不变
```

**适合**：
- 只是想看看翻译
- 学习对照
- 参考但不采用

### 场景 2：复制译文到别处

```
1. 选中文本并翻译
2. 在对话框中点击 "复制译文"
3. 点击 "取消"
4. 在其他地方粘贴
→ 原文不变，译文已在剪贴板
```

**适合**：
- 翻译后用于其他地方
- 保留原文，另起一段
- 对比学习

### 场景 3：修改译文后替换

```
1. 选中文本并翻译
2. 在对话框中编辑译文（润色）
3. 点击 "替换原文"
→ 用修改后的译文替换
```

**适合**：
- AI 翻译不够准确
- 需要调整语气
- 添加标点符号

### 场景 4：直接替换

```
1. 选中文本并翻译
2. 确认译文满意
3. 直接点击 "替换原文"
→ 快速替换
```

**适合**：
- 翻译质量好
- 信任 AI
- 快速工作流

## 🎨 界面详解

### 语言标签

```
[英语] → [简体中文]
  ↑         ↑
 蓝色     绿色
源语言   目标语言
```

- 源语言：自动检测或指定
- 目标语言：设置中配置
- 一目了然的语言方向

### 原文区域

```
原文
┌─────────────────────┐
│ Hello World         │
│ This is a test      │
└─────────────────────┘
```

- 只读显示
- 保留原始格式
- 便于对照

### 译文区域

```
译文（可编辑）
┌─────────────────────┐
│ 你好世界            │← 可以修改
│ 这是一个测试        │← 可以修改
└─────────────────────┘
```

- **可编辑**的文本框
- 支持多行
- 自动调整高度

### 统计信息

```
原文: 26 字符 | 译文: 14 字符
```

- 显示字符数对比
- 了解长度变化
- 评估翻译质量

## 💡 实用技巧

### 技巧 1：快速预览

```
想看翻译但不替换：
1. 选中文本
2. Ctrl+Shift+T
3. 看一眼译文
4. Esc 或点击取消
```

### 技巧 2：翻译润色

```
AI 翻译后手动优化：
1. 翻译文本
2. 在对话框中编辑：
   - 调整用词
   - 添加标点
   - 修正语气
3. 替换原文
```

### 技巧 3：对比学习

```
学习外语时：
1. 翻译外语文本
2. 对比原文和译文
3. 复制译文做笔记
4. 取消，保留原文
```

### 技巧 4：批量翻译工作流

```
翻译多段文本：
1. 选第一段 → 翻译 → 满意 → 替换
2. 选第二段 → 翻译 → 满意 → 替换
3. 选第三段 → 翻译 → 需修改 → 编辑 → 替换
...
```

## ⌨️ 快捷键

### 在对话框中

- **Esc** - 取消（同点击"取消"按钮）
- **点击外部** - 关闭对话框
- **鼠标/触摸** - 编辑译文

### 建议的工作流快捷键

```
1. 选中文本
2. Ctrl+Shift+T - 翻译
3. 在对话框中：
   - Esc - 取消
   - 点击按钮 - 操作
```

## 🎭 对比：旧版 vs 新版

### 旧版（V2.0）

```
选中文本 → Ctrl+Shift+T → 直接替换
                          ↑
                       无法预览
                       无法取消
                       无法编辑
```

### 新版（V2.1+）

```
选中文本 → Ctrl+Shift+T → 对话框 → [取消|复制|替换]
                          ↓
                      可预览 ✓
                      可取消 ✓
                      可编辑 ✓
                      可复制 ✓
```

## 🆚 对比其他翻译工具

| 功能 | SwiftPen V2.1 | Google 翻译 | DeepL |
|------|--------------|-------------|-------|
| 预览译文 | ✅ | ✅ | ✅ |
| 编辑译文 | ✅ | ❌ | ❌ |
| 上下文理解 | ✅ AI | ❌ | ✅ |
| 在编辑器内 | ✅ | ❌ | ❌ |
| 保留格式 | ✅ | ❌ | ❌ |
| 一键替换 | ✅ | ❌ | ❌ |

## 📝 示例

### 示例 1：技术文档翻译

**原文**（英语）：
```markdown
## Installation

Run the following command:
\`\`\`bash
npm install swiftpen
\`\`\`
```

**翻译后**：
```markdown
## 安装

运行以下命令：
\`\`\`bash
npm install swiftpen
\`\`\`
```

**工作流**：
1. 选中整段
2. Ctrl+Shift+T
3. 预览译文
4. 点击"替换原文"

### 示例 2：修正翻译

**原文**：
```
This is very important!
```

**AI 译文**：
```
这非常重要
```

**手动修正**（在对话框中）：
```
这非常重要！  ← 添加感叹号
```

**替换后**：
```
这非常重要！
```

### 示例 3：仅复制不替换

**场景**：翻译用于笔记

**操作**：
1. 选中英文段落
2. 翻译
3. 点击"复制译文"
4. 点击"取消"
5. 在笔记末尾粘贴译文

**结果**：
```markdown
原文（英文）...

---

翻译：
译文（中文）...
```

## 🎨 自定义（未来）

未来版本可能支持：

- [ ] 自定义对话框主题
- [ ] 调整字体大小
- [ ] 双栏对比显示
- [ ] 翻译历史记录
- [ ] 快捷键替换按钮

## ❓ 常见问题

### Q: 可以用键盘操作对话框吗？

**A**: 目前支持：
- Esc - 取消
- Tab - 在按钮间切换
- 鼠标点击按钮

### Q: 译文可以多次编辑吗？

**A**: 可以！在对话框中随意编辑，点击替换前都可以修改。

### Q: 复制译文后还能替换吗？

**A**: 不能同时。点击"复制译文"后，可以再次点击"替换原文"。

### Q: 可以调整对话框大小吗？

**A**: 对话框自适应内容，译文框可以手动拖动调整高度。

### Q: 翻译很长的文本会怎样？

**A**: 译文框支持滚动，可以查看完整内容。

## 🎊 总结

新的翻译 UI 让你：

1. ✅ **预览** - 替换前先看看
2. ✅ **编辑** - 不满意就改改
3. ✅ **选择** - 取消、复制或替换
4. ✅ **对比** - 原文译文一起看
5. ✅ **灵活** - 适应各种工作流

享受更智能的翻译体验！ 🌍✨

---

**相关文档**：
- [V2.1 改进说明](V2.1_IMPROVEMENTS.md)
- [主文档](../README.md)
- [使用示例](../EXAMPLES.md)

