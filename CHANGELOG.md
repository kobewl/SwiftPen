# 更新日志

所有重要的更改都会记录在这个文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [2.1.0] - 2025-10-30

### 新增 🎨
- ✨ **生成标记功能**
  - 在 AI 生成内容前后自动添加可视化标记
  - 可自定义标记内容
  - 可开关控制是否显示
  - 便于区分 AI 生成和原创内容

- 🌍 **翻译对话框 UI**
  - 翻译结果不再直接替换，而是弹出预览对话框
  - 支持预览、编辑译文
  - 三个操作：取消、复制译文、替换原文
  - 显示原文和译文对比
  - 可编辑译文后再替换

- 🧪 **API 测试按钮**
  - 一键测试 AI 连接是否正常
  - 实时显示测试状态和结果
  - 帮助快速排查配置问题

- ⌨️ **快捷键说明**
  - 在设置页面显示所有快捷键
  - 提示如何自定义快捷键
  - 降低学习成本

### 改进 ⚙️
- 🎨 **优化流式输出视觉效果**
  - 更丰富的 Emoji 提示
  - 实时打字效果
  - 显示字符数和词数统计

- 🌍 **增强翻译体验**
  - 对话框式翻译界面
  - 支持译文预览和编辑
  - 灵活的操作选择
  - 更清晰的语言标识

- 📝 **改进错误处理**
  - 智能管理生成标记
  - 失败时自动清理
  - 中断时保留已生成内容

- 📦 **构建优化**
  - 打包输出到 dist/ 文件夹
  - 自动复制必要文件
  - 更清晰的项目结构

### UI 改进 🎨
- 设置页面新增 "快捷键" 部分
- 设置页面新增 "API 测试" 部分
- 设置页面新增 "界面配置" 部分
- 全新的翻译对话框界面
- 通知消息使用 Emoji 图标
- 更友好的按钮交互

## [2.0.0] - 2025-10-30

### 新增 🎉
- ✨ **多 AI 服务支持**
  - Google Gemini 支持（免费使用）
  - 自定义 API 支持（兼容 OpenAI 格式）
  - 支持 Ollama 本地模型
  - 支持 Claude 等其他服务

- 🌍 **选词翻译功能**
  - 快捷键 `Ctrl/Cmd+Shift+T` 一键翻译
  - 支持 9 种常见语言
  - 智能检测源语言
  - 保留 Markdown 格式
  - 可独立配置翻译服务提供商

- ⚡ **性能优化**
  - 智能缓存系统
  - 可配置缓存超时
  - 减少重复 API 调用
  - 显著提升响应速度

- 🎨 **改进的设置界面**
  - 分组显示配置选项
  - 动态显示当前服务的设置
  - 更清晰的说明和提示

### 改进 ⚙️
- 统一的 AI 服务接口设计
- 更灵活的服务配置
- Temperature 范围调整为 0-1（更符合常规）
- 更好的错误提示

### 技术改进 🔧
- 重构 AI 服务架构
- 添加服务工厂模式
- 改进缓存管理
- 优化流式响应处理

### 文档 📖
- 新增 V2 功能说明文档
- 更新 README
- 添加多服务使用指南
- 添加性能优化说明

## [1.0.0] - 2025-10-30

### 新增
- ✨ 初始版本发布
- 🚀 支持通过快捷键快速调用 AI 写作
- 💬 用户输入对话框，支持自定义写作需求
- 🌊 流式实时生成，边生成边显示
- 📝 智能上下文提取，自动识别并保留 Markdown 结构
- ⚙️ 完整的设置页面
  - OpenAI API Key 配置
  - 模型选择（GPT-3.5/GPT-4/GPT-4 Turbo/GPT-4o）
  - 自定义生成参数（温度、最大长度）
  - 可配置上下文长度
  - 自定义系统提示词
  - Base URL 配置（支持代理）
- 🔄 智能重试机制
  - 速率限制自动重试
  - 指数退避策略
  - 服务器错误处理
- ⌨️ 快捷键支持
  - `Ctrl/Cmd+Shift+L` - 快速写作
  - `Esc` - 取消生成
  - `Enter` - 提交需求
- 📖 完整的文档
  - README.md - 详细介绍
  - QUICKSTART.md - 快速开始指南
  - 代码注释

### 技术特性
- TypeScript 实现，类型安全
- 使用 OpenAI 官方 JS SDK
- esbuild 快速构建
- 模块化设计，易于维护和扩展

### 已知限制
- API Key 以明文存储在本地
- 生成内容需要发送到 OpenAI 服务器
- 需要网络连接

[1.0.0]: https://github.com/yourusername/SwiftPen/releases/tag/v1.0.0

